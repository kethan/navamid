var navamid=function(){"use strict";function t(t,e){history[t]||(history[t]=t,e=history[t+="State"],history[t]=function(n){var r=new Event(t.toLowerCase());return r.uri=n,e.apply(this,arguments),dispatchEvent(r)})}return function(e,n){var r,s,i=[],u={url:{},params:{}},a={},o={redirect:(t,e)=>a.route(t,e)},c=()=>{},f=[],l=a.format=function(t){return t?(t="/"+t.replace(/^\/|\/$/g,""),r.test(t)&&t.replace(r,"/")):t};return e="/"+(e||"").replace(/^\/|\/$/g,""),r="/"==e?/^\/+/:new RegExp("^\\"+e+"(?=\\/|$)\\/?","i"),a.route=function(t,n){"/"!=t[0]||r.test(t)||(t=e+t),history[(t===s||n?"replace":"push")+"State"](t,null,t)},a.use=function(...t){return f=[...f,...t],a},a.on=function(t,...e){return(t=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,u=[],a="",o=t.split("/");for(o[0]||o.shift();s=o.shift();)"*"===(n=s[0])?(u.push("wild"),a+="/(.*)"):":"===n?(r=s.indexOf("?",1),i=s.indexOf(".",1),u.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:u,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}(t)).fns=[...e],i.push(t),a},a.run=function(t){var e,r,p=0,h={};if(t=l(t||location.pathname)){for(t=t.match(/[^\?#]*/)[0],s=t;p<i.length;p++)if(e=(r=i[p]).pattern.exec(t)){for(p=0;p<r.keys.length;)h[r.keys[p]]=e[++p]||null;r.fns=[...f,...r.fns];let n=(t,e)=>{try{let s=r.fns.shift();s?s(t,e,(r=>r?c(r,t,e):n(t,e))):c(null,t,e)}catch(s){c(s,t,e)}};return u.params=h,u.url=t,n(u,o),a}n&&n(t)}return a},a.listen=function(e,n=c){function s(t){a.run()}function i(t){var e=t.target.closest("a"),n=e&&e.getAttribute("href");t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||t.button||t.defaultPrevented||n&&!e.target&&e.host===location.host&&"#"!=n[0]&&("/"!=n[0]||r.test(n))&&(t.preventDefault(),a.route(n))}return c=n,t("push"),t("replace"),addEventListener("popstate",s),addEventListener("replacestate",s),addEventListener("pushstate",s),addEventListener("click",i),a.unlisten=function(){removeEventListener("popstate",s),removeEventListener("replacestate",s),removeEventListener("pushstate",s),removeEventListener("click",i)},a.run(e)},a}}();
