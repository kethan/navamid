var navamid=function(){"use strict";function t(t,e){history[t]||(history[t]=t,e=history[t+="State"],history[t]=function(n){var r=new Event(t.toLowerCase());return r.uri=n,e.apply(this,arguments),dispatchEvent(r)})}return function(e,n,r=(()=>{})){var s,i,a=[],u={url:{},params:{}},o={},c={redirect:(t,e)=>o.route(t,e)},l=[],p=o.format=function(t){return t?(t="/"+t.replace(/^\/|\/$/g,""),s.test(t)&&t.replace(s,"/")):t};return e="/"+(e||"").replace(/^\/|\/$/g,""),s="/"==e?/^\/+/:new RegExp("^\\"+e+"(?=\\/|$)\\/?","i"),o.route=function(t,n){"/"!=t[0]||s.test(t)||(t=e+t),history[(t===i||n?"replace":"push")+"State"](t,null,t)},o.use=function(...t){return l=[...l,...t],o},o.on=function(t,...e){return(t=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,a=[],u="",o=t.split("/");for(o[0]||o.shift();s=o.shift();)"*"===(n=s[0])?(a.push("wild"),u+="/(.*)"):":"===n?(r=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~r?r:~i?i:s.length)),u+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(u+=(~r?"?":"")+"\\"+s.substring(i))):u+="/"+s;return{keys:a,pattern:new RegExp("^"+u+(e?"(?=$|/)":"/?$"),"i")}}(t)).fns=[...e],a.push(t),o},o.run=function(t){var e,s,f=0,h={};if(t=p(t||location.pathname)){for(t=t.match(/[^\?#]*/)[0],i=t;f<a.length;f++)if(e=(s=a[f]).pattern.exec(t)){for(f=0;f<s.keys.length;)h[s.keys[f]]=e[++f]||null;let n=[].concat.apply([],...l,...s.fns),i=(t,e)=>{try{let s=n.shift();s?s(t,e,(n=>n?r(n,t,e):i(t,e))):r(null,t,e)}catch(s){r(s,t,e)}};return u.params=h,u.url=t,i(u,c),o}n&&n(t,u,c)}return o},o.listen=function(e){function n(t){o.run()}function r(t){var e=t.target.closest("a"),n=e&&e.getAttribute("href");t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||t.button||t.defaultPrevented||n&&!e.target&&e.host===location.host&&"#"!=n[0]&&("/"!=n[0]||s.test(n))&&(t.preventDefault(),o.route(n))}return t("push"),t("replace"),addEventListener("popstate",n),addEventListener("replacestate",n),addEventListener("pushstate",n),addEventListener("click",r),o.unlisten=function(){removeEventListener("popstate",n),removeEventListener("replacestate",n),removeEventListener("pushstate",n),removeEventListener("click",r)},o.run(e)},o}}();
