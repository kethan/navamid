var navamid=function(){"use strict";function e(e,t){history[e]||(history[e]=e,t=history[e+="State"],history[e]=function(r){var n=new Event(e.toLowerCase());return n.uri=r,t.apply(this,arguments),dispatchEvent(n)})}return function(t,r,n=(()=>{})){var s,i,a=[],u={},o=[],c=n;u.req={url:{},params:{}},u.res={redirect:(e,t)=>u.route(e,t)};var l=u.format=function(e){return e?(e="/"+e.replace(/^\/|\/$/g,""),s.test(e)&&e.replace(s,"/")):e};return t="/"+(t||"").replace(/^\/|\/$/g,""),s="/"==t?/^\/+/:new RegExp("^\\"+t+"(?=\\/|$)\\/?","i"),u.route=function(e,r){"/"!=e[0]||s.test(e)||(e=t+e),history[(e===i||r?"replace":"push")+"State"](e,null,e)},u.use=function(...e){return o=[...o,...e],u},u.on=function(e,...t){return(e=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,i,a=[],u="",o=e.split("/");for(o[0]||o.shift();s=o.shift();)"*"===(r=s[0])?(a.push("wild"),u+="/(.*)"):":"===r?(n=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~n?n:~i?i:s.length)),u+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(u+=(~n?"?":"")+"\\"+s.substring(i))):u+="/"+s;return{keys:a,pattern:new RegExp("^"+u+(t?"(?=$|/)":"/?$"),"i")}}(e)).fns=[...o,...t],a.push(e),u},u.run=function(e){var t,n,s=0,o={};if(e=l(e||location.pathname)){for(e=e.match(/[^\?#]*/)[0],i=e;s<a.length;s++)if(t=(n=a[s]).pattern.exec(e)){for(s=0;s<n.keys.length;)o[n.keys[s]]=t[++s]||null;let r=[...n.fns],i=(e,t)=>{try{let n=r.shift();n?n(e,t,(r=>r?c(r,e,t):i(e,t))):c(null,e,t)}catch(n){c(n,e,t)}};return u.req.params=o,u.req.url=e,i(u.req,u.res),u}r&&r(e,u.req,u.res)}return u},u.listen=function(t){function r(e){u.run()}function n(e){var t=e.target.closest("a"),r=t&&t.getAttribute("href");e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button||e.defaultPrevented||r&&!t.target&&t.host===location.host&&"#"!=r[0]&&("/"!=r[0]||s.test(r))&&(e.preventDefault(),u.route(r))}return e("push"),e("replace"),addEventListener("popstate",r),addEventListener("replacestate",r),addEventListener("pushstate",r),addEventListener("click",n),u.unlisten=function(){removeEventListener("popstate",r),removeEventListener("replacestate",r),removeEventListener("pushstate",r),removeEventListener("click",n)},u.run(t)},u}}();
